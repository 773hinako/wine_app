# 🍷 ワイン記録

スマートフォンやブラウザで使えるワイン記録アプリです。飲んだワインの写真、情報、テイスティングメモを簡単に記録・管理できます。

## 📱 利用可能なバージョン

### 1. PWA版（Progressive Web App）
- スマホのホーム画面に追加して使用
- サーバー経由でアクセス

### 2. スタンドアロン版
- 単一HTMLファイル
- サーバー不要、スマホに保存するだけ
- 詳細: [STANDALONE-GUIDE.md](STANDALONE-GUIDE.md)

### 3. iOS App Store版（開発中）
- ネイティブiOSアプリ
- App Storeから配信予定
- 詳細: [APP-STORE-GUIDE.md](APP-STORE-GUIDE.md)

## 特徴

- 📱 **マルチプラットフォーム** - PWA、スタンドアロン、iOSアプリ
- 📷 **写真撮影** - カメラでラベルを撮影して記録（端末にも自動保存）
- � **OCR機能** - ラベルから自動でワイン名・生産者・ヴィンテージを抽出 ✨ NEW
- �💾 **オフライン動作** - インターネット接続なしでも使用可能
- 🔍 **検索機能** - ワイン名、産地、品種、メモから検索
- ⭐ **評価管理** - 5段階評価でお気に入りを記録
- 📤 **データ管理** - JSONファイルでエクスポート/インポート可能
- 🤖 **Android対応強化** - カメラ起動と写真選択の両方に対応

## 使い方

### 起動方法

ローカルサーバーを起動してブラウザでアクセスしてください：

```bash
# Python 3の場合
python -m http.server 8000

# Node.jsのhttp-serverを使う場合
npx http-server -p 8000
```

ブラウザで http://localhost:8000 を開きます。

### アイコンの生成

PWAとしてインストールするには、まずアイコンを生成してください：

1. `create-icons.html` をブラウザで開く
2. 自動的に `icon-192.png` と `icon-512.png` がダウンロードされます
3. プロジェクトルートに配置します

### PWAとしてインストール

#### スマートフォン
- **Android (Chrome)**: メニュー → 「ホーム画面に追加」
- **iPhone (Safari)**: 共有ボタン → 「ホーム画面に追加」

#### デスクトップ
- **Chrome/Edge**: アドレスバーのインストールアイコンをクリック

## 記録できる情報

- 📷 写真（ラベル画像、端末にも自動保存）
- 🍷 ワイン名
- 🏭 生産者/ワイナリー
- 🌍 産地
- 🍇 品種
- 📅 ヴィンテージ（年）
- 📆 購入日/飲んだ日
- ⭐ 評価（5段階）
- 📝 テイスティングメモ（構造化データ対応）

### 写真機能
- **カメラ撮影**: Androidでカメラを直接起動して撮影
- **写真選択**: ギャラリーから既存の写真を選択
- **自動保存**: 撮影した写真は端末のダウンロードフォルダにも保存
- **画像圧縮**: アプリ内で自動的に最適化（詳細表示用1200px、サムネイル400px）

### OCR機能（ラベル自動読み取り） ✨ NEW
- **自動抽出**: ワインラベルから「ワイン名」「生産者」「ヴィンテージ」を自動抽出
- **技術**: Tesseract.js（オープンソースOCRエンジン）
- **対応言語**: 英語・フランス語・イタリア語・スペイン語（ワインラベルの主要言語）
- **オフライン対応**: 初回ダウンロード後、オフラインでも使用可能
- **精度**: ヴィンテージ85-95%、生産者60-70%、ワイン名50-60%

詳細は [docs/OCR-FEATURE-GUIDE.md](docs/OCR-FEATURE-GUIDE.md) と [docs/PHOTO-FEATURES.md](docs/PHOTO-FEATURES.md) を参照してください。

## 技術仕様

- **フロントエンド**: HTML5, CSS3, Vanilla JavaScript
- **データ保存**: IndexedDB（ブラウザ内ローカルストレージ）
- **PWA**: Service Worker によるオフライン対応
- **デザイン**: レスポンシブ（モバイルファースト）

## ファイル構成

```
wine/
├── 📱 PWA版実行ファイル（ルート）
├── 📄 wine-app-standalone.html    # スタンドアロン版
├── 📚 docs/                       # ドキュメント
├── 🔧 scripts/                    # ユーティリティ
├── 🎨 assets/                     # アイコン等
├── 📱 ios/                        # iOSアプリ
└── 📝 設定ファイル
```

詳細は [PROJECT-STRUCTURE.md](PROJECT-STRUCTURE.md) を参照してください。

## データのバックアップ

アプリ内の「エクスポート」機能を使うと、すべてのデータをJSONファイルとして保存できます。機種変更やブラウザ変更時は、「インポート」機能で復元してください。

## 注意事項

- 写真はBase64形式でブラウザ内に保存されるため、大量の写真を保存するとブラウザの容量を消費します
- カメラ機能はHTTPSまたはlocalhostでのみ動作します
- ブラウザのデータをクリアすると、保存されたワイン記録も削除されます（定期的なエクスポートを推奨）

## ライセンス

MIT License

## 作者

Claude Code により生成
