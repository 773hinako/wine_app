# 📱 スマホ単体で動作するワイン記録アプリ

サーバー不要！スマホにHTMLファイルを保存するだけで動作します。

## 🎯 特徴

- ✅ **完全オフライン動作** - インターネット接続不要
- ✅ **サーバー不要** - 単一HTMLファイルのみ
- ✅ **データ永続化** - IndexedDBでブラウザ内に保存
- ✅ **カメラ対応** - 写真撮影・アップロード可能
- ✅ **エクスポート/インポート** - データのバックアップと復元

## 📥 スマホへの転送方法

### 方法1: メール添付（最も簡単）

1. `wine-app-standalone.html` をPCからスマホにメール添付で送信
2. スマホでメールを開いて添付ファイルをダウンロード
3. ダウンロードしたHTMLファイルをタップして開く

### 方法2: クラウドストレージ経由

1. **Google Drive / iCloud / Dropbox** などに `wine-app-standalone.html` をアップロード
2. スマホのアプリからファイルをダウンロード
3. ダウンロードしたファイルをタップして開く

### 方法3: USBケーブル経由

#### Android
1. USBケーブルでPCとスマホを接続
2. `wine-app-standalone.html` を **Download** フォルダにコピー
3. スマホのファイルマネージャーでファイルを開く

#### iPhone
1. iTunesまたはFinderでファイル共有
2. 対応アプリ（Documentsなど）にファイルを転送
3. アプリでHTMLファイルを開く

### 方法4: 現在のサーバー経由（推奨）

現在サーバーが起動中なので、スマホから以下にアクセス：

**http://192.168.11.19:8000/wine-app-standalone.html**

1. スマホのブラウザで上記URLを開く
2. ブラウザのメニューから「**ページを保存**」または「**オフラインで読む**」を選択
3. 以降はオフラインで使用可能

## 📲 各ブラウザでの使い方

### Android Chrome

1. HTMLファイルをダウンロード
2. **Downloads** フォルダを開く
3. `wine-app-standalone.html` をタップ
4. Chromeで開く
5. **ホーム画面に追加** (オプション)：
   - メニュー (⋮) → 「ホーム画面に追加」

### iPhone Safari

1. HTMLファイルをダウンロード（Documentsアプリなど使用）
2. ファイルアプリで開く
3. Safariで表示
4. **ホーム画面に追加** (オプション)：
   - 共有ボタン (□↑) → 「ホーム画面に追加」

### Kiwi Browser / Firefox (Android)

1. ファイルマネージャーでHTMLファイルを開く
2. ブラウザを選択して開く

## 🔧 使い方

### 初回起動

1. HTMLファイルを開く
2. すぐに使用開始！

### ワインの記録

1. 右下の **+** ボタンをタップ
2. カメラで撮影 または ギャラリーから選択
3. 情報を入力して **保存**

### データのバックアップ

1. ホーム画面右上の **📤** ボタンをタップ
2. JSONファイルがダウンロードされます
3. このファイルを安全な場所に保存

### データの復元

1. ホーム画面右上の **📥** ボタンをタップ
2. バックアップしたJSONファイルを選択
3. データがインポートされます

## 💡 重要な注意事項

### データの保存場所

データは**ブラウザのIndexedDB**に保存されます。以下の操作でデータが削除される可能性があります：

⚠️ **データが消える可能性がある操作**
- ブラウザのキャッシュをクリア
- ブラウザのデータを削除
- アプリのアンインストール（ブラウザアプリ）
- ブラウザの「サイトデータを削除」

🛡️ **対策**
- **定期的にエクスポート（📤）でバックアップを作成**
- バックアップファイルをクラウドやPCに保存

### カメラ機能について

#### ⚠️ 制限事項
- **HTTPSまたはfile://プロトコルでのみカメラが動作**
- 一部のAndroidブラウザでは `file://` でカメラが使えない場合があります

#### 📷 カメラが動作しない場合の対処法

1. **ギャラリーから選択**：
   - 「写真を撮影/選択」ボタンをタップ
   - ギャラリーから既存の写真を選択

2. **別のブラウザを試す**：
   - Chrome → Kiwi Browser に変更
   - Safari → Chrome (iOS) に変更

3. **サーバー経由で開く**：
   - PCでサーバー起動: `python -m http.server 8000`
   - スマホから `http://[PC-IP]:8000/wine-app-standalone.html` にアクセス

## 📂 ファイルの保管場所（推奨）

### Android
```
/Download/wine-app-standalone.html
```
または
```
/Documents/Apps/wine-app-standalone.html
```

### iPhone
- **ファイル** アプリの **このiPhone内** > **Downloads**
- または **Documents by Readdle** などのアプリ内

## 🆚 PWA版との違い

| 機能 | スタンドアロン版 | PWA版 |
|------|----------------|-------|
| サーバー | 不要 | 必要 |
| インストール | ファイルをダウンロードするだけ | ホーム画面に追加 |
| オフライン | 完全対応 | Service Worker経由 |
| 更新 | 手動でファイル置き換え | 自動更新 |
| カメラ | file://で制限あり | HTTPS必須 |

## 🔄 別のスマホへの移行

1. **旧スマホ**：📤ボタンでデータをエクスポート
2. エクスポートしたJSONファイルをメールやクラウドで転送
3. **新スマホ**：`wine-app-standalone.html` を開く
4. 📥ボタンでJSONファイルをインポート

## 🎉 完了！

これで、いつでもどこでも、サーバーなしでワインを記録できます！

楽しいワインライフを！🍷
